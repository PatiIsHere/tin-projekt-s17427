<%- include('../../fragments/header.ejs') %>

<main>
    <h2>Lista nieobecności</h2>
    <table class="table-list">
        <thead>

        <tr>
            <th>Typ nieobecności</th>
            <th class="non-essential-row">Data OD</th>
            <th>Data DO</th>
            <th class="non-essential-row">Imię</th>
            <th>Nazwisko</th>
            <th class="non-essential-row">Akceptacja</th>
            <th>Akcje</th>
        </tr>
        </thead>
        <tbody>
        <% for (let absence of absences) { %>
            <tr>
                <td><%= absence.reason.Name %></td>
                <td class="non-essential-row"><%= absence.DateFrom.toLocaleDateString('pl-PL') %></td>
                <td><%= absence.DateTo.toLocaleDateString('pl-PL') %></td>
                <td class="non-essential-row"><%= absence.employee.Name %></td>
                <td><%= absence.employee.Surname %></td>
                <td class="non-essential-row"><%= absence.IsAccepted === true ? 'Tak' : 'Nie' %></td>
                <td>
                    <ul class="list-actions">
                        <li>
                            <a href="/absence/details/<%= absence.IdAbsence %>" class="list-actions-button-details">Szczegóły</a>
                            <a href="/absence/edit/<%= absence.IdAbsence %>" class="list-actions-button-edit">Edytuj</a>
                            <a href="/absence/delete/<%= absence.IdAbsence %>"
                               class="list-actions-button-delete">Usuń</a>
                        </li>
                    </ul>
                </td>
            </tr>
        <% } %>
        </tbody>
    </table>
    <p><a href="/absence/add" class="button-add">Dodaj nową nieobecność</a></p>
</main>

<%- include('../../fragments/footer.ejs') %>